import{l as H,m as I,d as L,s as F,at as P,v as i,x as c,a9 as V,ab as j,k as A,au as q,_ as U,o as y,e as B,a as l,b as R,i as p,w as b,j as O,ao as X,X as Y,av as z,aj as D,ak as G}from"./app.154f3a53.js";function J(e){return typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e}function K(e){return e instanceof HTMLElement?e.scrollTop:window.scrollY}function Q(e){return e instanceof HTMLElement?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}var W=H("affix",[I("affixed",{position:"fixed"},[I("absolute-positioned",{position:"absolute"})])]);const Z={listenTo:[String,Object,Function],top:Number,bottom:Number,triggerTop:Number,triggerBottom:Number,position:{type:String,default:"fix"},offsetTop:{type:Number,validator:()=>!0,default:void 0},offsetBottom:{type:Number,validator:()=>!0,default:void 0},target:{type:Function,validator:()=>!0,default:void 0}};var ee=L({name:"Affix",props:Z,setup(e){const{mergedClsPrefixRef:r}=F(e);P("-affix",W,r);let n=null;const a=i(!1),u=i(!1),f=i(null),d=i(null),v=c(()=>u.value||a.value),s=c(()=>{var t,o;return(o=(t=e.triggerTop)!==null&&t!==void 0?t:e.offsetTop)!==null&&o!==void 0?o:e.top}),_=c(()=>{var t,o;return(o=(t=e.top)!==null&&t!==void 0?t:e.triggerTop)!==null&&o!==void 0?o:e.offsetTop}),m=c(()=>{var t,o;return(o=(t=e.bottom)!==null&&t!==void 0?t:e.triggerBottom)!==null&&o!==void 0?o:e.offsetBottom}),g=c(()=>{var t,o;return(o=(t=e.triggerBottom)!==null&&t!==void 0?t:e.offsetBottom)!==null&&o!==void 0?o:e.bottom}),w=i(null),M=()=>{const{target:t,listenTo:o}=e;t?n=t():o?n=J(o):n=document,n&&(n.addEventListener("scroll",x),x())};function x(){q($)}function $(){const{value:t}=w;if(!n||!t)return;const o=K(n);if(v.value){o<d.value&&(a.value=!1,d.value=null),o>f.value&&(u.value=!1,f.value=null);return}const k=Q(n),E=t.getBoundingClientRect(),N=E.top-k.top,C=k.bottom-E.bottom,T=s.value,h=g.value;T!==void 0&&N<=T?(a.value=!0,d.value=o-(T-N)):(a.value=!1,d.value=null),h!==void 0&&C<=h?(u.value=!0,f.value=o+h-C):(u.value=!1,f.value=null)}return V(()=>{M()}),j(()=>{!n||n.removeEventListener("scroll",x)}),{selfRef:w,affixed:v,mergedClsPrefix:r,mergedstyle:c(()=>{const t={};return a.value&&s.value!==void 0&&_.value!==void 0&&(t.top=`${_.value}px`),u.value&&g.value!==void 0&&m.value!==void 0&&(t.bottom=`${m.value}px`),t})}},render(){const{mergedClsPrefix:e}=this;return A("div",{ref:"selfRef",class:[`${e}-affix`,{[`${e}-affix--affixed`]:this.affixed,[`${e}-affix--absolute-positioned`]:this.position==="absolute"}],style:this.mergedstyle},this.$slots)}});const S=e=>(D("data-v-e4c0bd02"),e=e(),G(),e),te={key:0,id:"vue3"},oe=S(()=>l("div",null,"fdsfds",-1)),ne=S(()=>l("div",null,"dsds>",-1)),le={class:"absolute-anchor-container"},se={ref:"containerRef",class:"container"},ie=S(()=>l("div",{class:"padding"},null,-1)),ae={class:"content"},ue={style:{display:"inline-block",width:"50%"}},re={style:{display:"inline-block",width:"50%"}},fe={__name:"Test",setup(e){const r=i(),n=()=>{r.value=!r.value},a=s=>{console.log("\u6EDA\u52A8\u53D1\u751F\u4E86")},u=i(!1),f=i(),d=s=>{console.log(s),console.log(s[0])},v=i<HTMLElement|void 0>void 0;return V(()=>{const s=document.querySelector("#btn"),_=new IntersectionObserver(d,{root:null,rootMargin:"0px",threshold:.5});console.log(s),_.observe(s)}),(s,_)=>{const m=z,g=ee;return y(),B(Y,null,[l("div",{onScroll:a},[R(" fdsfds "),l("div",null,[l("button",{type:"button",id:"btn",onClick:n},"aaa"),p(X,{name:"fade"},{default:b(()=>[r.value?(y(),B("div",te,"Hello, Vue3!")):O("",!0)]),_:1})]),oe,ne,l("div",le,[l("div",se,[ie,l("div",ae,[l("div",ue,[p(g,{"trigger-top":50,position:"absolute","listen-to":()=>v},{default:b(()=>[p(m,null,{default:b(()=>[R("\u9876\u90E8\u89E6\u53D1\u8DDD\u79BB 50px")]),_:1})]),_:1},8,["listen-to"])]),l("div",re,[p(g,{"trigger-bottom":60,position:"absolute","listen-to":()=>v},{default:b(()=>[p(m,null,{default:b(()=>[R("\u5E95\u90E8\u89E6\u53D1\u8DDD\u79BB 60px")]),_:1})]),_:1},8,["listen-to"])])])],512)])],32),l("div",null,[u.value?(y(),B("div",{key:0,class:"box",ref_key:"targetElement",ref:f}," Element Inside Viewport ",512)):O("",!0)])],64)}}};var ce=U(fe,[["__scopeId","data-v-e4c0bd02"]]);export{ce as default};
